// Author: Stephen Korecky
// Website: http://stephenkorecky.com
// Plugin Website: http://github.com/skorecky/Add-Clear
!function(i,t,e,n){function s(t,e){this.element=t,this.options=i.extend({},l,e),this._defaults=l,this._name=o,this.init()}var o="addClear",l={closeSymbol:"&#10006;",color:"#CCC",top:1,right:4,returnFocus:!0,showOnLoad:!1,onClear:null,hideOnBlur:!1}
s.prototype={init:function(){var t=i(this.element),e=this,n=this.options
t.wrap("<span style='position:relative;' class='add-clear-span'></span>"),t.after(i("<a href='#clear' style='display: none;'>"+n.closeSymbol+"</a>")),t.next().css({color:n.color,"text-decoration":"none",display:"none","line-height":1,overflow:"hidden",position:"absolute",right:n.right,top:n.top},this),t.val().length>=1&&n.showOnLoad===!0&&t.siblings("a[href='#clear']").show(),t.focus(function(){i(this).val().length>=1&&i(this).siblings("a[href='#clear']").show()}),t.blur(function(){var t=this
n.hideOnBlur&&setTimeout(function(){i(t).siblings("a[href='#clear']").hide()},50)}),t.keyup(function(){i(this).val().length>=1?i(this).siblings("a[href='#clear']").show():i(this).siblings("a[href='#clear']").hide()}),i("a[href='#clear']").click(function(t){i(this).siblings(e.element).val(""),i(this).hide(),n.returnFocus===!0&&i(this).siblings(e.element).focus(),n.onClear&&n.onClear(i(this).siblings("input")),t.preventDefault()})}},i.fn[o]=function(t){return this.each(function(){i.data(this,"plugin_"+o)||i.data(this,"plugin_"+o,new s(this,t))})}}(jQuery,window,document)
